<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>
        Listar Usuario
    </title>
</h:head>

<h:body>

	

            <h:form id="formGestionClientes">
              <h3>Menu</h3>
               
              <p:linkButton outcome="/private/employee/crearFactura" value="Crear Factura" style="margin-right:20px;">
  		  		<f:param name="productId" value="10" />
			  </p:linkButton>
			  
			  <p:linkButton outcome="/private/employee/CreateUser" value="Crear Cliente" style="margin-right:20px;">
  		  		<f:param name="productId" value="10" />
			  </p:linkButton>
			  
			   <p:linkButton outcome="/private/employee/ListarFacturas" value="Listar Facturas" style="margin-right:20px;">
  		  		<f:param name="productId" value="10" />
			  </p:linkButton>
			  
			  <p:linkButton outcome="/private/employee/listarUsuario" value="Listar Clientes" style="margin-right:20px;">
  		  		<f:param name="productId" value="10" />
			  </p:linkButton>
			 
			 <p:linkButton outcome="/paginaPrincipal" value="Salir" style="margin-right:20px;">
  		  		<f:param name="productId" value="10" />
			  </p:linkButton>

            </h:form>


	
	  <div id="filtros">
	    	<h:form>
		    	<h3>Buscar por cedula de cliente</h3>
		    	<p:inputText id="ced" value="#{buscarFacturaController.cedula}" type="text"/>
		    	<p:commandButton value="Buscar" action="#{buscarFacturaController.buscarPorCedula}"  update="facturaCabecera"/>
		    </h:form>
	    </div>
	    <br></br>
	    
	    <h:form id="facturaCabecera">
	    	<div id="contenedorCabeceras">
	    		<p:dataTable value="#{facturaCabeceraBean.cabeceras}" var="cabF" 
		    		styleClass="tabla" headerClass="cabeceraTabla" rowClasses="filaPar,filaImpar">
		   			<p:column>
		   				<f:facet name="header" id="proid">Codigo</f:facet>#{cabF.id}
		   			</p:column>
		   			
		   			<p:column>
		   				<f:facet name="header" id="proid">Cliente</f:facet>#{cabF.persona.getNombre()}
		   			</p:column>
		   			<p:column>
		   				<f:facet name="header" id="proid">Fecha</f:facet>#{cabF.fecha}
		   			</p:column>
		   			<p:column>
		   				<f:facet name="header" id="proid">Subtotal</f:facet>#{cabF.subtotal}
		   			</p:column>
		   			<p:column>
		   				<f:facet name="header" id="proid">IVA</f:facet>#{cabF.iva}
		   			</p:column>
		   			<p:column>
		   				<f:facet name="header" id="proid">Total</f:facet>#{cabF.total}
		   			</p:column>
			   		<p:column>
		   				<f:facet name="header" id="proid">Detalle</f:facet>
		   				<p:commandButton value="Ver" action="#{facturaCabeceraBean.sacarDetalles(cabF)}" update="facturaDetalle">
			    		</p:commandButton>
		   			</p:column>
		   		</p:dataTable>
	    	</div>
	   	</h:form>


</h:body>

</html>